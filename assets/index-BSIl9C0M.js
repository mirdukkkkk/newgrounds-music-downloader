var de=Object.defineProperty;var pe=(t,e,n)=>e in t?de(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C=(t,e,n)=>pe(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const _ of o)if(_.type==="childList")for(const l of _.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const _={};return o.integrity&&(_.integrity=o.integrity),o.referrerPolicy&&(_.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?_.credentials="include":o.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function s(o){if(o.ep)return;o.ep=!0;const _=n(o);fetch(o.href,_)}})();var W,h,te,P,J,ne,re,oe,z,j,q,F={},_e=[],fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,B=Array.isArray;function S(t,e){for(var n in e)t[n]=e[n];return t}function V(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function he(t,e,n){var s,o,_,l={};for(_ in e)_=="key"?s=e[_]:_=="ref"?o=e[_]:l[_]=e[_];if(arguments.length>2&&(l.children=arguments.length>3?W.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)l[_]==null&&(l[_]=t.defaultProps[_]);return O(t,l,s,o,null)}function O(t,e,n,s,o){var _={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++te,__i:-1,__u:0};return o==null&&h.vnode!=null&&h.vnode(_),_}function I(t){return t.children}function w(t,e){this.props=t,this.context=e}function D(t,e){if(e==null)return t.__?D(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?D(t):null}function se(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return se(t)}}function Q(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!R.__r++||J!=h.debounceRendering)&&((J=h.debounceRendering)||ne)(R)}function R(){for(var t,e,n,s,o,_,l,i=1;P.length;)P.length>i&&P.sort(re),t=P.shift(),i=P.length,t.__d&&(n=void 0,o=(s=(e=t).__v).__e,_=[],l=[],e.__P&&((n=S({},s)).__v=s.__v+1,h.vnode&&h.vnode(n),G(e.__P,n,s,e.__n,e.__P.namespaceURI,32&s.__u?[o]:null,_,o??D(s),!!(32&s.__u),l),n.__v=s.__v,n.__.__k[n.__i]=n,ce(_,n,l),n.__e!=o&&se(n)));R.__r=0}function le(t,e,n,s,o,_,l,i,a,c,d){var r,m,u,y,b,g,p=s&&s.__k||_e,f=e.length;for(a=me(n,e,p,a,f),r=0;r<f;r++)(u=n.__k[r])!=null&&(m=u.__i==-1?F:p[u.__i]||F,u.__i=r,g=G(t,u,m,o,_,l,i,a,c,d),y=u.__e,u.ref&&m.ref!=u.ref&&(m.ref&&K(m.ref,null,u),d.push(u.ref,u.__c||y,u)),b==null&&y!=null&&(b=y),4&u.__u||m.__k===u.__k?a=ie(u,a,t):typeof u.type=="function"&&g!==void 0?a=g:y&&(a=y.nextSibling),u.__u&=-7);return n.__e=b,a}function me(t,e,n,s,o){var _,l,i,a,c,d=n.length,r=d,m=0;for(t.__k=new Array(o),_=0;_<o;_++)(l=e[_])!=null&&typeof l!="boolean"&&typeof l!="function"?(a=_+m,(l=t.__k[_]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?O(null,l,null,null,null):B(l)?O(I,{children:l},null,null,null):l.constructor==null&&l.__b>0?O(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=t,l.__b=t.__b+1,i=null,(c=l.__i=ve(l,n,a,r))!=-1&&(r--,(i=n[c])&&(i.__u|=2)),i==null||i.__v==null?(c==-1&&(o>d?m--:o<d&&m++),typeof l.type!="function"&&(l.__u|=4)):c!=a&&(c==a-1?m--:c==a+1?m++:(c>a?m--:m++,l.__u|=4))):t.__k[_]=null;if(r)for(_=0;_<d;_++)(i=n[_])!=null&&(2&i.__u)==0&&(i.__e==s&&(s=D(i)),ue(i,i));return s}function ie(t,e,n){var s,o;if(typeof t.type=="function"){for(s=t.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=t,e=ie(s[o],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=D(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ve(t,e,n,s){var o,_,l=t.key,i=t.type,a=e[n];if(a===null&&t.key==null||a&&l==a.key&&i==a.type&&(2&a.__u)==0)return n;if(s>(a!=null&&(2&a.__u)==0?1:0))for(o=n-1,_=n+1;o>=0||_<e.length;){if(o>=0){if((a=e[o])&&(2&a.__u)==0&&l==a.key&&i==a.type)return o;o--}if(_<e.length){if((a=e[_])&&(2&a.__u)==0&&l==a.key&&i==a.type)return _;_++}}return-1}function X(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||fe.test(e)?n:n+"px"}function A(t,e,n,s,o){var _;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||X(t.style,e,"");if(n)for(e in n)s&&n[e]==s[e]||X(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")_=e!=(e=e.replace(oe,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?s?n.u=s.u:(n.u=z,t.addEventListener(e,_?q:j,_)):t.removeEventListener(e,_?q:j,_);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Z(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=z++;else if(e.t<n.u)return;return n(h.event?h.event(e):e)}}}function G(t,e,n,s,o,_,l,i,a,c){var d,r,m,u,y,b,g,p,f,N,x,U,E,Y,T,$,H,k=e.type;if(e.constructor!=null)return null;128&n.__u&&(a=!!(32&n.__u),_=[i=e.__e=n.__e]),(d=h.__b)&&d(e);e:if(typeof k=="function")try{if(p=e.props,f="prototype"in k&&k.prototype.render,N=(d=k.contextType)&&s[d.__c],x=d?N?N.props.value:d.__:s,n.__c?g=(r=e.__c=n.__c).__=r.__E:(f?e.__c=r=new k(p,x):(e.__c=r=new w(p,x),r.constructor=k,r.render=ge),N&&N.sub(r),r.props=p,r.state||(r.state={}),r.context=x,r.__n=s,m=r.__d=!0,r.__h=[],r._sb=[]),f&&r.__s==null&&(r.__s=r.state),f&&k.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=S({},r.__s)),S(r.__s,k.getDerivedStateFromProps(p,r.__s))),u=r.props,y=r.state,r.__v=e,m)f&&k.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),f&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(f&&k.getDerivedStateFromProps==null&&p!==u&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(p,x),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(p,r.__s,x)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(r.props=p,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(L){L&&(L.__=e)}),U=0;U<r._sb.length;U++)r.__h.push(r._sb[U]);r._sb=[],r.__h.length&&l.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(p,r.__s,x),f&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(u,y,b)})}if(r.context=x,r.props=p,r.__P=t,r.__e=!1,E=h.__r,Y=0,f){for(r.state=r.__s,r.__d=!1,E&&E(e),d=r.render(r.props,r.state,r.context),T=0;T<r._sb.length;T++)r.__h.push(r._sb[T]);r._sb=[]}else do r.__d=!1,E&&E(e),d=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++Y<25);r.state=r.__s,r.getChildContext!=null&&(s=S(S({},s),r.getChildContext())),f&&!m&&r.getSnapshotBeforeUpdate!=null&&(b=r.getSnapshotBeforeUpdate(u,y)),$=d,d!=null&&d.type===I&&d.key==null&&($=ae(d.props.children)),i=le(t,B($)?$:[$],e,n,s,o,_,l,i,a,c),r.base=e.__e,e.__u&=-161,r.__h.length&&l.push(r),g&&(r.__E=r.__=null)}catch(L){if(e.__v=null,a||_!=null)if(L.then){for(e.__u|=a?160:128;i&&i.nodeType==8&&i.nextSibling;)i=i.nextSibling;_[_.indexOf(i)]=null,e.__e=i}else for(H=_.length;H--;)V(_[H]);else e.__e=n.__e,e.__k=n.__k;h.__e(L,e,n)}else _==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):i=e.__e=ye(n.__e,e,n,s,o,_,l,a,c);return(d=h.diffed)&&d(e),128&e.__u?void 0:i}function ce(t,e,n){for(var s=0;s<n.length;s++)K(n[s],n[++s],n[++s]);h.__c&&h.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(_){_.call(o)})}catch(_){h.__e(_,o.__v)}})}function ae(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:B(t)?t.map(ae):S({},t)}function ye(t,e,n,s,o,_,l,i,a){var c,d,r,m,u,y,b,g=n.props,p=e.props,f=e.type;if(f=="svg"?o="http://www.w3.org/2000/svg":f=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),_!=null){for(c=0;c<_.length;c++)if((u=_[c])&&"setAttribute"in u==!!f&&(f?u.localName==f:u.nodeType==3)){t=u,_[c]=null;break}}if(t==null){if(f==null)return document.createTextNode(p);t=document.createElementNS(o,f,p.is&&p),i&&(h.__m&&h.__m(e,_),i=!1),_=null}if(f==null)g===p||i&&t.data==p||(t.data=p);else{if(_=_&&W.call(t.childNodes),g=n.props||F,!i&&_!=null)for(g={},c=0;c<t.attributes.length;c++)g[(u=t.attributes[c]).name]=u.value;for(c in g)if(u=g[c],c!="children"){if(c=="dangerouslySetInnerHTML")r=u;else if(!(c in p)){if(c=="value"&&"defaultValue"in p||c=="checked"&&"defaultChecked"in p)continue;A(t,c,null,u,o)}}for(c in p)u=p[c],c=="children"?m=u:c=="dangerouslySetInnerHTML"?d=u:c=="value"?y=u:c=="checked"?b=u:i&&typeof u!="function"||g[c]===u||A(t,c,u,g[c],o);if(d)i||r&&(d.__html==r.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(r&&(t.innerHTML=""),le(e.type=="template"?t.content:t,B(m)?m:[m],e,n,s,f=="foreignObject"?"http://www.w3.org/1999/xhtml":o,_,l,_?_[0]:n.__k&&D(n,0),i,a),_!=null)for(c=_.length;c--;)V(_[c]);i||(c="value",f=="progress"&&y==null?t.removeAttribute("value"):y!=null&&(y!==t[c]||f=="progress"&&!y||f=="option"&&y!=g[c])&&A(t,c,y,g[c],o),c="checked",b!=null&&b!=t[c]&&A(t,c,b,g[c],o))}return t}function K(t,e,n){try{if(typeof t=="function"){var s=typeof t.__u=="function";s&&t.__u(),s&&e==null||(t.__u=t(e))}else t.current=e}catch(o){h.__e(o,n)}}function ue(t,e,n){var s,o;if(h.unmount&&h.unmount(t),(s=t.ref)&&(s.current&&s.current!=t.__e||K(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(_){h.__e(_,e)}s.base=s.__P=null}if(s=t.__k)for(o=0;o<s.length;o++)s[o]&&ue(s[o],e,n||typeof t.type!="function");n||V(t.__e),t.__c=t.__=t.__e=void 0}function ge(t,e,n){return this.constructor(t,n)}function be(t,e,n){var s,o,_,l;e==document&&(e=document.documentElement),h.__&&h.__(t,e),o=(s=!1)?null:e.__k,_=[],l=[],G(e,t=e.__k=he(I,null,[t]),o||F,F,e.namespaceURI,o?null:e.firstChild?W.call(e.childNodes):null,_,o?o.__e:e.firstChild,s,l),ce(_,t,l)}W=_e.slice,h={__e:function(t,e,n,s){for(var o,_,l;e=e.__;)if((o=e.__c)&&!o.__)try{if((_=o.constructor)&&_.getDerivedStateFromError!=null&&(o.setState(_.getDerivedStateFromError(t)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,s||{}),l=o.__d),l)return o.__E=o}catch(i){t=i}throw t}},te=0,w.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},n),this.props)),t&&S(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Q(this))},w.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Q(this))},w.prototype.render=I,P=[],ne=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,re=function(t,e){return t.__v.__b-e.__v.__b},R.__r=0,oe=/(PointerCapture)$|Capture$/i,z=0,j=Z(!1),q=Z(!0);var we=0;function v(t,e,n,s,o,_){e||(e={});var l,i,a=e;if("ref"in a)for(i in a={},e)i=="ref"?l=e[i]:a[i]=e[i];var c={type:t,props:a,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--we,__i:-1,__u:0,__source:o,__self:_};if(typeof t=="function"&&(l=t.defaultProps))for(i in l)a[i]===void 0&&(a[i]=l[i]);return h.vnode&&h.vnode(c),c}const ke="_input_177rs_1",Se={input:ke};class xe extends w{render({children:e,onInput:n}){return v("input",{className:Se.input,type:"text",placeholder:e,onInput:s=>n(s.currentTarget.value)})}}const Ce="_download_button_c11o3_1",Pe={download_button:Ce};class De extends w{render({onClick:e}){return v("button",{onClick:e||void 0,className:Pe.download_button,style:{color:e?"var(--black)":"var(--unavailable)",cursor:e?"pointer":"not-allowed"},children:"Download"})}}const Ne=t=>{const e=t.match(/\/(\d+_.+\.mp3)/i);return e&&e[1]},Ee=t=>{if(/^\d+$/.test(t))return t;const e=/newgrounds\.com\/audio\/listen\/(\d+)/i,n=t.match(e);return n&&n[1]},$e=t=>{const e=t.match(/embedController\(\[.*?"url":"([^"]+)/);if(!e)throw new Error("Audio URL not found");const n=e[1].replace(/\\\//g,"/").split("?")[0],s=t.match(/<title>([^<]+)</),o=s?s[1]:"Unknown Track";return{url:n,title:o}},Le="api.allorigins.win",Me=async t=>{try{const e=`https://${Le}/get?url=${encodeURIComponent(`https://www.newgrounds.com/audio/listen/${t}`)}`;return(await fetch(e)).json()}catch(e){throw e}},Fe="_download_section_1bhqs_1",Ie={download_section:Fe};class Ue extends w{constructor(){super(...arguments);C(this,"state",{status:"",isError:!1});C(this,"returnDefault",()=>{this.setState({status:"Enter the song id and click download!",isError:!1})});C(this,"onClick",async()=>{let n=Ee(this.props.data);if(!n)return this.setState({status:"Enter a valid song ID",isError:!0});if(n=Number(n),Number.isNaN(n))return this.setState({status:"Enter a valid song ID",isError:!0});try{this.setState({status:"Downloading the song..."});const s=await Me(n);if(s.status.http_code===404)return this.setState({status:`Song with ID "${n}" not found`,isError:!0});const{url:o,title:_}=$e(s.contents);this.setState({status:`Successful download of "${_}"`}),Ne(o);const l=document.createElement("a");l.href=o,l.rel="noopener noreferrer",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(s){this.setState({status:"Unexcepted error. Check the console (F12)",isError:!0}),console.error(s)}})}componentWillReceiveProps(){this.returnDefault()}componentWillMount(){this.returnDefault()}render(){return v("div",{className:Ie.download_section,children:[v(De,{onClick:this.props.data&&this.onClick}),v("div",{style:{color:this.state.isError?"var(--error)":"var(--white)"},children:this.state.status})]})}}const Te="_func_block_1ga4f_1",Ae={func_block:Te};class Oe extends w{constructor(){super(...arguments);C(this,"state",{data:""});C(this,"onInput",n=>{this.setState({data:n})})}render(){return v("div",{className:Ae.func_block,children:[v(xe,{onInput:this.onInput,children:"Song ID or URL"}),v(Ue,{data:this.state.data})]})}}const M=["#F62C34","#2283DD","#45B227","#F134A0","#C549E2","#EC500F","#F1B758"],Re="_title_2sqme_1",We={title:Re};class Be extends w{constructor(){super(...arguments);C(this,"state",{color:M[Math.floor(Math.random()*M.length)]});C(this,"onClick",()=>{this.setState({color:M[(M.indexOf(this.state.color)+1)%M.length]})})}render(){return v("div",{className:We.title,children:[v("span",{title:"Newgrounds",style:{"--current":this.state.color},onClick:this.onClick,children:"NG"})," ","music downloader"]})}}const He="_disclaimer_1clbl_27",je="_repo_1clbl_31",ee={disclaimer:He,repo:je};class qe extends w{render(){return v("footer",{children:[v("div",{className:ee.disclaimer,children:["Not affiliated with"," ",v("a",{href:"https://newgrounds.com",children:"newgrounds.com"})]}),v("div",{className:ee.repo,children:[v("a",{href:"https://github.com/mirdukkkkk/newgrounds-music-downloader",children:"Source Code"})," ","(C) ",new Date().getFullYear()," mirdukkkkk"]})]})}}class ze extends w{render(){return v(I,{children:[v("div",{id:"container",children:[v(Be,{}),v(Oe,{})]}),v(qe,{})]})}}be(v(ze,{}),document.body);
